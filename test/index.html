<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Amber Test</title>
	<style>
	html, body {
		font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
	}
	</style>
</head>
<body>
<h1>Amber Test</h1>
<div id="amber"></div>
<script src="vendor/lodash.js" type="application/javascript"></script>
<script src="vendor/jquery.js" type="application/javascript"></script>
<script src="../Amber.js" type="application/javascript"></script>
<script type="application/javascript">

	var TestModel = Amber.Model.extend({
		url: 'test.json',
		defaults: {
			defaultProperty: true
		}
	});

	var TestView = Amber.View.extend({
		initialize: function(){

			this.model.fetch({
				success: function(model, resp, options){
					console.log(model.toJSON());
					model.clear();
					console.log(model.toJSON());
				}, complete: function(model, resp, options) {
					// console.log('complete');
				}, error: function(model, resp, options) {
					// console.log('error', resp);
				}
			});

			var otherModel = new TestModel({},{
				url: 'error.json'
			});


			otherModel.fetch({
				success: function(model, resp, options){
					// console.log(typeof model);
				}, complete: function(model, resp, options) {
					// console.log('complete');
				}, error: function(model, resp, options) {
					// console.log('error', resp);
				}
			});
		}
	});

	new TestView({
		$el: $('#amber'),
		model : new TestModel()
	});

</script>
</body>
</html>